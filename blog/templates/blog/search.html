{% extends 'base.html' %}

{% block content%}
<div class="container mt-4 mb-2" style="min-height: 250px;">
	<div class="text-center">
		<div class="spinner-grow text-secondary" role="status" id="loader">
		  <span class="sr-only">Loading...</span>
		</div>
	</div>	
<div class="content-loader" id="myDiv" style="display: none;">
{% if posts %}
	<h4 class="text-center">Search results for '{{search_term}}'</h4>
	<p class="lead text-center">Didn't find what your looking for? Try another search<br>Find 		more articles <a href="/blog/">HERE</a></p>
<div class="row">
	
	{% for post in posts %}
	<div class="col-sm-4">
		<div class="card-deck">
		  <div class="card border-light mb-4">
		    <img src="{{ post.image.url }}" class="card-img-top z-depth-5" alt="..." 
		    style="height: 190px;">
		    <div class="card-body">
				<h5 class="card-title">
					<a href="{{ post.get_absolute_url}}">{{post.title}}</a>
				</h5>
				<p class="card-text">{{post.body | safe|slice:":70"}}...</p>
				<p class="card-text">
					<small class="text-muted">Posted on {{post.created_on}}</small>
				</p>
				<a href="{{ post.get_absolute_url}}" class="text-success d-flex flex-row-reverse "><h5 class="waves-effect waves-light">Read more
				<i class="fas fa-angle-double-right"></i>
				</h5>
				</a>
		    </div>
		  </div>
		</div>
	</div>
	{% endfor %}

</div>

{% else %}
<h4 class="alert alert-info text-center">Sorry!!No search results matched '{{search_term}}' Try another keyword</h4>
{% endif %}
</div>

</div>
<script>
	var myVar;

	function myFunction() {
	  myVar = setTimeout(showPage, 1500);
	}

	function showPage() {
	  document.getElementById("loader").style.display = "none";
	  document.getElementById("myDiv").style.display = "block";
	}
</script>
{% endblock %}